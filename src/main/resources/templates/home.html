<!DOCTYPE html>
<html lang="pt-br">
<head>
    <head th:replace="~{geral :: head}"></head>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-md navbar-dark bg-azul">
            <div class="container-fluid">
                <a class="navbar-brand ml-1" href="/Omni/home">
                    <img src="https://www.bizfacil.com.br/imagens/logo_omni_fundo_azul.png" alt="" width="83" height="43" class="d-inline-block align-top">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item mr-2 dropdown">
                            <a class="nav-link dropdown-toggle active" href="/Omni/home" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Projetos
                            </a>
                            <ul class="dropdown-menu bg-azul" aria-labelledby="navbarDropdown">
                                <li><a th:classappend="${regulatorio} == '' ? 'FDS' : 'bg-primary'" class="dropdown-item text-light dropdown-bgh" href="/Omni/home">Todos</a></li>
                                <li><a th:classappend="${regulatorio} == 'SIM' ? 'bg-primary'" class="dropdown-item text-light dropdown-bgh" th:href="@{/home/regulatorio/sim}">Regulatório (sim)</a></li>
                                <li><a th:classappend="${regulatorio} == 'NÃO' ? 'bg-primary'" class="dropdown-item text-light dropdown-bgh" th:href="@{/home/regulatorio/não}">Regulatório (não)</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a th:classappend="${status} == true ? 'bg-primary'" class="dropdown-item text-light dropdown-bgh" th:href="@{/home/dataSolicitacaoDesc}">Recentes</a></li>
<!--                                <li><a class="dropdown-item text-light dropdown-bgh" href="#input-pesquisa">Pesquisar nome</a></li>-->
                            </ul>
                        </li>
                        <li class="nav-item mr-2">
                            <a class="nav-link" href="/Omni/departamento/todos">
                                Departamentos
                            </a>
                        </li>
                        <li class="nav-item mr-2">
                            <a class="nav-link" href="/Omni/projeto/criar">
                                Novo Projeto
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg></a>
                        </li>
<!--                        <li class="nav-item">-->
<!--                            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#ajudaModal">-->
<!--                                Ajuda-->
<!--                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16">-->
<!--                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>-->
<!--                                    <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>-->
<!--                                </svg>-->
<!--                            </a>-->
<!--                        </li>-->
                    </ul>
                    <form action="/Omni/home?id" method="get" class="d-flex">
                        <div class="input-group">
                            <input type="number" name="id" class="form-control" id="validationTooltipUsername" placeholder="ID do projeto" aria-describedby="validationTooltipUsernamePrepend" required>
                            <div class="invalid-tooltip">
                                Insira o ID de um projeto.
                            </div>
                            <div class="input-group-prepend">
                                <button type="submit" class="input-group-text border-top-bottom-left-radius btn-laranja" id="validationTooltipUsernamePrepend">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-search p-1" viewBox="0 0 16 16">
                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </nav>
    </header>

    <article>
        <section>
            <div class="container">
                <div class="row justify-content-center mt-3">
                    <div id="msg-sucesso" th:if="${message}" class="alert alert-success text-start col-auto">
                        <h6 id="h-msg" th:text="${message}" class="mb-0"></h6>
                        <!--                <div th:case="'Success'" class="alert alert-success">-->
                        <!--                    <strong>Success!</strong> Operation performed successfully.-->
                        <!--                </div>-->
                        <!--                <div th:case="'Failed'" class="alert alert-danger">-->
                        <!--                    <strong>Failure!</strong> Operation failed. Please try again-->
                        <!--                </div>-->
                    </div>
                </div>

                <div class="row justify-content-center">
                    <h4 th:text="${subtitulo}" class="text-white border-top-lr bg-azul text-center p-1 mt-4 mb-0"></h4>
                    <table class="table table-striped">
                        <thead>
                        <tr class="text-azul">
                            <th scope="col">ID:</th>
                            <th scope="col">Nome:</th>
                            <th scope="col">Regulatório:</th>
                            <th scope="col">Solicitação:</th>
                            <th scope="col">Mais</th>
                        </tr>
                        </thead>

                        <tbody>
                            <tr th:each="projeto : ${projetos}">
                                <td th:text="${projeto.id}"></td>
                                <td>
                                    <a class="text-azul text-decoration-none" th:href="@{/home/detalhes/{id}(id=${projeto.id})}" th:text="${projeto.nome}"></a>
                                </td>
                                <td th:text="${projeto.regulatorio}"></td>
                                <td th:text="${#temporals.format(projeto.dataSolicitacao, 'dd/MM/yyyy')}"></td>
                                <td>
                                    <a th:href="@{/home/alterar/{id}(id=${projeto.id})}">Alterar Projeto</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>

<!--                    <div th:each="projeto : ${projetos}" class="card pside-0 col-xs-12 col-4 m-4" style="width: 18rem;">-->
<!--                        <th:block th:switch="${projeto.regulatorio.name()}">-->
<!--                            <div class="card-header alert-primary" th:case="'SIM'">-->
<!--                                <h6 class="d-inline-block mt-1 card-title">-->
<!--                                    <a th:href="@{/home/detalhes/{id}(id=${projeto.id})}" th:text="${projeto.nome}" class="card-title-primary d-inline-block">Quitação de divídas</a>-->
<!--                                </h6>-->
<!--                                <div class="d-inline-block">-->
<!--                                    (<p th:text="${projeto.id}" class="mb-0 d-inline-block">id</p>)-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="card-header alert-warning" th:case="'NÃO'">-->
<!--                                <h6 class="d-inline-block mt-1 card-title">-->
<!--                                    <a th:href="@{/home/detalhes/{id}(id=${projeto.id})}" th:text="${projeto.nome}" class="card-title-warning d-inline-block">Quitação de divídas</a>-->
<!--                                </h6>-->
<!--                                <div class="d-inline-block">-->
<!--                                    (<p th:text="${projeto.id}" class="mb-0 d-inline-block">id</p>)-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </th:block>-->
<!--                        <div class="card-body">-->
<!--                            <div>-->
<!--                                <h6 th:text="${projeto.departamento.nome}" class="card-subtitle mb-2 text-muted">Central de atendimento</h6>-->
<!--                                <p th:text="${projeto.analiseSituacaoAtual}" class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>-->
<!--                            </div>-->
<!--                            <hr class="dropdown-divider">-->
<!--                            <div>-->
<!--                                <div>-->
<!--                                    <p class="fst-italic d-inline-block mb-0">Regulatório: </p> <p th:text="${projeto.regulatorio}" class="mb-0 d-inline-block">Sim</p>-->
<!--                                </div>-->
<!--                                <div>-->
<!--                                    <p class="fst-italic d-inline-block mb-0">Data solicitação: </p> <p th:text="${#temporals.format(projeto.dataSolicitacao, 'dd/MM/yyyy')}" class="mb-0 d-inline-block">20/01/2021</p>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="card-footer">-->
<!--                            <a th:href="@{/home/alterar/{id}(id=${projeto.id})}" class="d-inline-block card-link">Alterar Projeto</a>-->
<!--                        </div>-->
<!--                    </div>-->
                </div>
                <div class="row justify-content-center">
                    <nav aria-label="Page navigation example">
<!--                        <ul class="pagination">-->
                        <ul class="pagination">
                            <li class="page-item"><a class="page-link" href="#">Previous</a></li>
<!--                            <li class="page-item"><a class="page-link" href="/Omni/home?page=0">1</a></li>-->
<!--                            <li class="page-item"><a class="page-link" href="/Omni/home?page=1">2</a></li>-->
<!--                            <li class="page-item"><a class="page-link" href="/Omni/home?page=2">3</a></li>-->
                            <div th:each="pag : ${pags}">
                                <li class="page-item"><a class="page-link" th:href="@{/home?page={page}(page=${pag.getPag()})}" th:text="${pag.getPag()} + 1">3</a></li>
                            </div>
                            <li class="page-item"><a class="page-link" href="#">Next</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </section>
    </article>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
            crossorigin="anonymous"></script>

    <script>
        setTimeout(function(){
            var msg = document.getElementById("msg-sucesso");
<!--            var hmsg = document.getElementById("h-msg");-->
<!--            hmsg.parentNode.classList.add('fadeOut');-->
            msg.parentNode.removeChild(msg);
        }, 5000);
    </script>
</body>
</html>